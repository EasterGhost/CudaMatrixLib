# 随机矩阵生成基准测试报告

## 基准测试环境

- **硬件**:
  - CPU: AMD Ryzen 8 8845H @4.6GHz (8 cores)
  - GPU: NVIDIA GeForce RTX 4070 laptop GPU @2625MHz with 8GB GDDR6 @18Gbps
  - 内存: 32GB DDR5 @5600MHz
  - 存储: 1TB NVMe SSD

- **软件**:
  - 操作系统: Windows 11 Pro for Workstations 64-bit
  - 编译器: Microsoft Visual Studio 2022
  - CUDA Toolkit: 12.8.61
  - cuBLAS: 12.8.3.14
  - cuRAND: 10.3.9.55

## 基准测试方法

- **输入**:
  - 矩阵大小: 5000 x 5000
  - 矩阵类型: 随机矩阵

- **测试步骤**:
  1. 初始化CUDA环境。
  2. 创建1000次5000 x 5000的随机矩阵。
  3. 记录创建矩阵所需的时间，取1000次平均。

- **测量指标**:
  - 矩阵创建时间（秒）

## 基准测试结果

| 矩阵大小 | 矩阵类型 | 创建时间（秒） |
|----------|----------|---------|
| 5000 x 5000 | int型随机矩阵 | 5.401 |
| 5000 x 5000 | float型随机矩阵 | 5.390 |
| 5000 x 5000 | double型随机矩阵 | 5.392 |

## 结果分析

- **创建时间**:
  - 创建5000 x 5000的随机矩阵耗时5.39秒，在当前硬件和软件配置下，矩阵创建的性能较好。较在核函数内执行类型判断和随机数生成，矩阵创建的性能提高3倍。
  - 通过优化内核函数和使用更高效的随机数生成器，可以进一步提高性能。
  - 创建int型、float型和double型随机矩阵的性能基本相同，其中创建int型较慢的原因可能是cuda内核启动时频率较低导致前两轮生成用时较大的问题。

- **优化方向**:
  - 使用更高效的随机数生成器。
  - 优化内核函数，减少线程间的同步和内存访问开销。
  - 使用批量生成和流并行化技术。

## 结论

本次基准测试展示了在当前硬件和软件配置下，创建5000 x 5000随机矩阵的性能。创建5000 x 5000的随机矩阵耗时5.39秒，在当前硬件和软件配置下，矩阵创建的性能较好。通过进一步优化内核函数和使用更高效的随机数生成器，可以进一步提高性能。未来的工作将集中在优化内核函数和使用批量生成和流并行化技术上。
